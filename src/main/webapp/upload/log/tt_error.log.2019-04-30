2019-04-30 11:23:48  [ http-nio-8098-exec-1:487017 ] - [ ERROR ]  {conn-310002, stmt-320232} execute error. insert into tlzf_dk_details set `cvv2`='', `dt_add`='2019-04-30 11:23:48', `vailddate`='', `agrmno`='AIP3989190423000002717', `gems_id`='4517', `ds_date`='2020-02-30', `business_code`='', `remark`='', `mid_add`='4793', `account_no`='6222004000493013989', `icbc_id`='841', `qd_type`='0', `req_sn`='', `sd_status`='1', `dt_edit`='2019-04-30 11:23:48', `api_type`='0', `account_name`='嵇竹中', `cardid`='620528197501116230', `periods`='11', `tel`='15601257600', `currency`='CNY', `gems_fs_id`='1708', `summary`='', `bank_code`='0102', `amount`='12', `fw_price`='1', `submit_time`='20190430112348', `cust_userid`='', `bc_status`='1', `cardid_type`='0', `mid_edit`='4793'
com.mysql.cj.jdbc.exceptions.MysqlDataTruncation: Data truncation: Incorrect date value: '2020-02-30' for column 'ds_date' at row 1
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:104)
	at com.mysql.cj.jdbc.StatementImpl.executeUpdateInternal(StatementImpl.java:1354)
	at com.mysql.cj.jdbc.StatementImpl.executeLargeUpdate(StatementImpl.java:2132)
	at com.mysql.cj.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1359)
	at com.alibaba.druid.filter.FilterChainImpl.statement_executeUpdate(FilterChainImpl.java:3104)
	at com.alibaba.druid.filter.FilterAdapter.statement_executeUpdate(FilterAdapter.java:2514)
	at com.alibaba.druid.filter.FilterEventAdapter.statement_executeUpdate(FilterEventAdapter.java:350)
	at com.alibaba.druid.filter.FilterChainImpl.statement_executeUpdate(FilterChainImpl.java:3102)
	at com.alibaba.druid.wall.WallFilter.statement_executeUpdate(WallFilter.java:561)
	at com.alibaba.druid.filter.FilterChainImpl.statement_executeUpdate(FilterChainImpl.java:3102)
	at com.alibaba.druid.filter.FilterAdapter.statement_executeUpdate(FilterAdapter.java:2514)
	at com.alibaba.druid.filter.FilterEventAdapter.statement_executeUpdate(FilterEventAdapter.java:350)
	at com.alibaba.druid.filter.FilterChainImpl.statement_executeUpdate(FilterChainImpl.java:3102)
	at com.alibaba.druid.proxy.jdbc.StatementProxyImpl.executeUpdate(StatementProxyImpl.java:249)
	at com.alibaba.druid.pool.DruidPooledStatement.executeUpdate(DruidPooledStatement.java:370)
	at com.tt.tool.DbTools.recinsert(DbTools.java:230)
	at com.tt.tool.DbCtrl.addData(DbCtrl.java:587)
	at com.tt.tool.DbCtrl.add(DbCtrl.java:627)
	at com.tt.tool.Tools.recAdd(Tools.java:694)
	at com.tt.table.dsgl.doPost(dsgl.java:280)
	at com.tt.manager.ManagerPost.doPost(ManagerPost.java:66)
	at com.tt.manager.Manager.indexpost(Manager.java:65)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:189)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:800)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:665)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:750)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.alibaba.druid.support.http.WebStatFilter.doFilter(WebStatFilter.java:123)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2019-04-30 11:23:48  [ http-nio-8098-exec-1:487028 ] - [ ERROR ]  Tools.logError:Data truncation: Incorrect date value: '2020-02-30' for column 'ds_date' at row 1
2019-04-30 14:09:26  [ http-nio-8098-exec-3:1030549 ] - [ ERROR ]  Tools.logError:com.tt.table.sys_modal_hbyh
2019-04-30 14:19:38  [ http-nio-8098-exec-7:1642138 ] - [ ERROR ]  Tools.logError:null
2019-04-30 14:19:38  [ http-nio-8098-exec-7:1642469 ] - [ ERROR ]  Tools.logError:http%3A%2F%2Flocalhost%3A8098%2Fmanager%2Findex%7C%2Fmanager%2Findex%7Csdo%3Dlist%26cn%3Ddsgl%26type%3Dcwgl%26dtbe%3D%26kw%3D%25E7%25AB%25B9:An exception occurred processing [/WEB-INF/jsp/manager/list.jsp] at line [21]

18: 		JspTools.alert(errorMsg,out);
19: 	}
20: 	String sPlUrl = Tools.urlKill("l|p");
21: 	int pages =(int) request.getAttribute("pages");
22: 	boolean canDel = request.getAttribute("canDel")==null?false:(boolean)request.getAttribute("canDel"); //是否显示删除按钮
23: 	boolean canAdd = request.getAttribute("canAdd")==null?true:(boolean)request.getAttribute("canAdd"); //是否显示新增按钮
24: 	String type = request.getParameter("type");


Stacktrace:
2019-04-30 14:20:14  [ http-nio-8098-exec-4:1678918 ] - [ ERROR ]  Tools.logError:null
2019-04-30 14:20:14  [ http-nio-8098-exec-4:1679020 ] - [ ERROR ]  Tools.logError:http%3A%2F%2Flocalhost%3A8098%2Fmanager%2Findex%7C%2Fmanager%2Findex%7Csdo%3Dlist%26cn%3Ddsgl%26type%3Dcwgl%26dtbe%3D%26kw%3D%25E7%25AB%25B9:An exception occurred processing [/WEB-INF/jsp/manager/list.jsp] at line [21]

18: 		JspTools.alert(errorMsg,out);
19: 	}
20: 	String sPlUrl = Tools.urlKill("l|p");
21: 	int pages =(int) request.getAttribute("pages");
22: 	boolean canDel = request.getAttribute("canDel")==null?false:(boolean)request.getAttribute("canDel"); //是否显示删除按钮
23: 	boolean canAdd = request.getAttribute("canAdd")==null?true:(boolean)request.getAttribute("canAdd"); //是否显示新增按钮
24: 	String type = request.getParameter("type");


Stacktrace:
2019-04-30 14:39:53  [ http-nio-8098-exec-1:271896 ] - [ ERROR ]  Tools.logError:sql injection violation, syntax error: error : pos 57, line 1, column 57, token RPAREN : select SQL_CALC_FOUND_ROWS t.*,i.c_name as c_name,SUM(t.) from tlzf_dk_details t  LEFT JOIN kj_icbc i ON i.id=t.icbc_id    where true  AND t.ds_date >= '2019-04-30' and t.ds_date <='2019-08-31' ORDER BY t.dt_edit DESC   limit 0,10 
